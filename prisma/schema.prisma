generator client {
    provider      = "prisma-client-js"
    output        = "../node_modules/.prisma/client"
    binaryTargets = ["native", "rhel-openssl-3.0.x"]
}

datasource db {
    provider = "mysql"
    url      = env("BUSINESS_DATABASE_URL")
}

model Gift {
    ACCOUNTID           String    @db.Text
    GIFTID              String    @db.Text
    id                  Int       @id @default(autoincrement())
    GIFTDATE            DateTime? @db.Date
    GIFTAMOUNT          Decimal?  @db.Decimal(15, 2)
    TRANSACTIONTYPE     String?   @db.VarChar(50)
    GIFTTYPE            String?   @db.VarChar(50)
    PAYMENTMETHOD       String?   @db.VarChar(50)
    PLEDGEID            String    @db.Text
    SOFTCREDITINDICATOR String?   @db.VarChar(50)
    SOFTCREDITAMOUNT    Decimal?  @db.Decimal(10, 2)
    SOFTCREDITID        String    @db.Text
    SOURCECODE          String?   @db.VarChar(100)
    DESIGNATION         String?   @db.Text
    UNIT                String?   @db.VarChar(100)
    PURPOSECATEGORY     String?   @db.VarChar(50)
    APPEAL              String?   @db.VarChar(50)
    GIVINGLEVEL         String?   @db.VarChar(50)
    UUID                String    @db.Text

    @@map("gifts")
}

model SavedQuery {
    id            Int      @id @default(autoincrement())
    userId        Int      @default(1)
    companyId     Int      @default(1)
    title         String   @db.VarChar(255)
    queryText     String   @db.Text
    sqlText       String   @db.Text
    outputMode    Int      @default(1)
    visualConfig  String?  @db.Text
    panelPosition String?  @db.VarChar(100)
    createdAt     DateTime @default(now())
    resultColumns String?  @db.Text
    resultData    String?  @db.LongText
    updatedAt     DateTime @default(now()) @updatedAt

    @@map("saved_queries")
}

model SavedDashboard {
    id              Int      @id @default(autoincrement())
    userId          Int      @default(1)
    companyId       Int      @default(1)
    title           String   @db.VarChar(255)
    quadrants       String   @db.Text
    visualizations  String   @db.Text
    sVisualizations String   @db.Text
    topLeftTitle    String   @default("Sample Title") @db.VarChar(255)
    topRightTitle   String   @default("Sample Title") @db.VarChar(255)
    bottomTitle     String   @default("Sample Title") @db.VarChar(255)
    createdAt       DateTime @default(now())

    @@map("saved_dashboards")
}
